{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.198.0"},"children":{"AdotEksDaemonsetStack":{"id":"AdotEksDaemonsetStack","path":"AdotEksDaemonsetStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.198.0"},"children":{"KubectlLayer":{"id":"KubectlLayer","path":"AdotEksDaemonsetStack/KubectlLayer","constructInfo":{"fqn":"@aws-cdk/lambda-layer-kubectl-v29.KubectlV29Layer","version":"2.1.1","metadata":["*"]},"children":{"Code":{"id":"Code","path":"AdotEksDaemonsetStack/KubectlLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.198.0"},"children":{"Stage":{"id":"Stage","path":"AdotEksDaemonsetStack/KubectlLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.198.0"}},"AssetBucket":{"id":"AssetBucket","path":"AdotEksDaemonsetStack/KubectlLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.198.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/KubectlLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"92de04796a6fe53d83bef2cbedb8a258440fe462611ddce2343d92d9db2d703c.zip"},"description":"/opt/kubectl/kubectl 1.29.4; /opt/helm/helm 3.17.1","licenseInfo":"Apache-2.0"}}}}},"KubectlExecutionRole":{"id":"KubectlExecutionRole","path":"AdotEksDaemonsetStack/KubectlExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.198.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportKubectlExecutionRole":{"id":"ImportKubectlExecutionRole","path":"AdotEksDaemonsetStack/KubectlExecutionRole/ImportKubectlExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/KubectlExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::131332286832:root"]]},"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"roleName":"EksKubectlRole-adot-eks-clusters"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AdotEksDaemonsetStack/KubectlExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.198.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/KubectlExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"eks:DescribeCluster","Effect":"Allow","Resource":"arn:aws:eks:us-east-1:131332286832:cluster/adot-eks-clusters"}],"Version":"2012-10-17"},"policyName":"KubectlExecutionRoleDefaultPolicyFFDD0EDB","roles":[{"Ref":"KubectlExecutionRole426284E6"}]}}}}}}},"OidcProvider":{"id":"OidcProvider","path":"AdotEksDaemonsetStack/OidcProvider","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":[]}},"EksCluster":{"id":"EksCluster","path":"AdotEksDaemonsetStack/EksCluster","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*"]},"children":{"KubectlRole":{"id":"KubectlRole","path":"AdotEksDaemonsetStack/EksCluster/KubectlRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*","*"]}},"manifest-AdotNamespace":{"id":"manifest-AdotNamespace","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotNamespace","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubernetesManifest","version":"2.198.0"},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotNamespace/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.198.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotNamespace/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}}}}}},"AdotServiceAccount":{"id":"AdotServiceAccount","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.ServiceAccount","version":"2.198.0"},"children":{"ConditionJson":{"id":"ConditionJson","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/ConditionJson","constructInfo":{"fqn":"aws-cdk-lib.CfnJson","version":"2.198.0"},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/ConditionJson/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.198.0","metadata":["*","*"]},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/ConditionJson/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}}}}}},"Role":{"id":"Role","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.198.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}}]},"children":{"ImportRole":{"id":"ImportRole","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"Fn::GetAtt":["EksClusterAdotServiceAccountConditionJson2DB8AB12","Value"]}},"Effect":"Allow","Principal":{"Federated":"arn:aws:iam::131332286832:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/DCEC6B0056C380571D6F9FB7CC4D2456"}}],"Version":"2012-10-17"}}}}}},"manifest-AdotServiceAccountServiceAccountResource":{"id":"manifest-AdotServiceAccountServiceAccountResource","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/manifest-AdotServiceAccountServiceAccountResource","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubernetesManifest","version":"2.198.0"},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/manifest-AdotServiceAccountServiceAccountResource/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.198.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/EksCluster/AdotServiceAccount/manifest-AdotServiceAccountServiceAccountResource/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}}}}}}}},"manifest-AdotCollectorConfig":{"id":"manifest-AdotCollectorConfig","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotCollectorConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubernetesManifest","version":"2.198.0"},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotCollectorConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.198.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotCollectorConfig/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}}}}}},"manifest-AdotDaemonSet":{"id":"manifest-AdotDaemonSet","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotDaemonSet","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubernetesManifest","version":"2.198.0"},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotDaemonSet/Resource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.198.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/EksCluster/manifest-AdotDaemonSet/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}}}}}}}},"AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider":{"id":"AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider","constructInfo":{"fqn":"aws-cdk-lib.aws_eks.KubectlProvider","version":"2.198.0"},"children":{"Handler":{"id":"Handler","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.198.0","metadata":[{"timeout":"*","description":"*","memorySize":"*","environment":"*","role":"*","vpc":"*","securityGroups":"*","vpcSubnets":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":["*"]},{"addLayers":["*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.198.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addManagedPolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"]]},{"Fn::If":["HandlerHasEcrPublic195AF58A",{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonElasticContainerRegistryPublicReadOnly"]]},{"Ref":"AWS::NoValue"}]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.198.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"eks:DescribeCluster","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":eks:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":cluster/adot-eks-clusters"]]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Ref":"referencetoAdotEksDaemonsetStackKubectlExecutionRole69C59129Arn"}}],"Version":"2012-10-17"},"policyName":"HandlerServiceRoleDefaultPolicyCBD0CC91","roles":[{"Ref":"HandlerServiceRoleFCDC14AE"}]}}}}}}},"Code":{"id":"Code","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.198.0"},"children":{"Stage":{"id":"Stage","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.198.0"}},"AssetBucket":{"id":"AssetBucket","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.198.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"96b83d7c7535f7e731e0679249de9470f417342331b121e36664078b4ef4a11b.zip"},"description":"onEvent handler for EKS kubectl resource provider","environment":{"variables":{"AWS_STS_REGIONAL_ENDPOINTS":"regional","PATH":"/var/task:/var/lang/bin:/usr/local/bin:/usr/bin/:/bin:/opt/bin","KUBECONFIG":"/tmp/kubeconfig"}},"handler":"index.handler","layers":[{"Ref":"AwsCliLayerF44AAF94"},{"Ref":"referencetoAdotEksDaemonsetStackKubectlLayerBE1DDA98Ref"}],"memorySize":1024,"role":{"Fn::GetAtt":["HandlerServiceRoleFCDC14AE","Arn"]},"runtime":"python3.11","timeout":900}}},"HasEcrPublic":{"id":"HasEcrPublic","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Handler/HasEcrPublic","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.198.0"}}}},"AwsCliLayer":{"id":"AwsCliLayer","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.198.0","metadata":[{}]},"children":{"Code":{"id":"Code","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.198.0"},"children":{"Stage":{"id":"Stage","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.198.0"}},"AssetBucket":{"id":"AssetBucket","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.198.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"b8ab94266984268614c3fb2824a1c3a55395746c48b28c003b08bc1d08688f3e.zip"},"description":"/opt/awscli/aws"}}}}},"ConditionalPolicyArn":{"id":"ConditionalPolicyArn","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/ConditionalPolicyArn","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":[]}},"conditionalPolicy":{"id":"conditionalPolicy","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/conditionalPolicy","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":[]}},"Provider":{"id":"Provider","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.198.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.198.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.198.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.198.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["Handler886CB40B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Handler886CB40B","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["Handler886CB40B","Arn"]}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.198.0"},"children":{"Stage":{"id":"Stage","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.198.0"}},"AssetBucket":{"id":"AssetBucket","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.198.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["Handler886CB40B","Arn"]}}},"handler":"framework.onEvent","role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}},"Condition":{"id":"Condition","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.198.0"}}}},"AdotEksDaemonsetStackAdotEksDaemonsetStackEksCluster3EF41E53KubectlProviderframeworkonEvent6508B37EArn":{"id":"AdotEksDaemonsetStackAdotEksDaemonsetStackEksCluster3EF41E53KubectlProviderframeworkonEvent6508B37EArn","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/AdotEksDaemonsetStackAdotEksDaemonsetStackEksCluster3EF41E53KubectlProviderframeworkonEvent6508B37EArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.198.0"}},"reference-to-AdotEksDaemonsetStackKubectlExecutionRole69C59129Arn":{"id":"reference-to-AdotEksDaemonsetStackKubectlExecutionRole69C59129Arn","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/reference-to-AdotEksDaemonsetStackKubectlExecutionRole69C59129Arn","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.198.0"}},"reference-to-AdotEksDaemonsetStackKubectlLayerBE1DDA98Ref":{"id":"reference-to-AdotEksDaemonsetStackKubectlLayerBE1DDA98Ref","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider/reference-to-AdotEksDaemonsetStackKubectlLayerBE1DDA98Ref","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.198.0"}}}},"AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStack":{"id":"AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStack","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStackResource":{"id":"AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStackResource","path":"AdotEksDaemonsetStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStack/AdotEksDaemonsetStackEksCluster3EF41E53-KubectlProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"referencetoAdotEksDaemonsetStackKubectlExecutionRole69C59129Arn":{"Fn::GetAtt":["KubectlExecutionRole426284E6","Arn"]},"referencetoAdotEksDaemonsetStackKubectlLayerBE1DDA98Ref":{"Ref":"KubectlLayer600207B5"}},"templateUrl":{"Fn::Join":["",["https://s3.",{"Ref":"AWS::Region"},".",{"Ref":"AWS::URLSuffix"},"/",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"/1bd26f49341c414268c512bf86248135c29ccc6511a615bc8b9d54d4cb75d531.json"]]}}}}}},"AdotIamRole":{"id":"AdotIamRole","path":"AdotEksDaemonsetStack/AdotIamRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.198.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]}]},"children":{"ImportAdotIamRole":{"id":"ImportAdotIamRole","path":"AdotEksDaemonsetStack/AdotIamRole/ImportAdotIamRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.198.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AdotEksDaemonsetStack/AdotIamRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.198.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"oidc.eks.us-east-1.amazonaws.com/id/DCEC6B0056C380571D6F9FB7CC4D2456:sub":"system:serviceaccount:adot-namespace:adot-sa"}},"Effect":"Allow","Principal":{"Federated":"arn:aws:iam::131332286832:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/DCEC6B0056C380571D6F9FB7CC4D2456"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSXRayDaemonWriteAccess"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/CloudWatchAgentServerPolicy"]]}]}}}}},"AWSCDKCfnUtilsProviderCustomResourceProvider":{"id":"AWSCDKCfnUtilsProviderCustomResourceProvider","path":"AdotEksDaemonsetStack/AWSCDKCfnUtilsProviderCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.198.0"},"children":{"Staging":{"id":"Staging","path":"AdotEksDaemonsetStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.198.0"}},"Role":{"id":"Role","path":"AdotEksDaemonsetStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}},"Handler":{"id":"Handler","path":"AdotEksDaemonsetStack/AWSCDKCfnUtilsProviderCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}}}},"CDKMetadata":{"id":"CDKMetadata","path":"AdotEksDaemonsetStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AdotEksDaemonsetStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.198.0"}},"Condition":{"id":"Condition","path":"AdotEksDaemonsetStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.198.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AdotEksDaemonsetStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.198.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AdotEksDaemonsetStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.198.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}